# –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ API –∫–ª—é—á–∞–º–∏ –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

## –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å

–¢–µ–ø–µ—Ä—å **–≤—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏** (–Ω–µ —Ç–æ–ª—å–∫–æ —Å—É–ø–µ—Ä–∞–¥–º–∏–Ω) –º–æ–≥—É—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å —Å–≤–æ–∏–º–∏ API –∫–ª—é—á–∞–º–∏ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏.

## –ì–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª—é—á–∞–º–∏

### –î–ª—è –æ–±—ã—á–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- URL: `https://ai-ru.ru/–≤–∞—à-slug/admin`
- –í–∫–ª–∞–¥–∫–∞: **"AI"**
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
  1. **"–ù–∞—Å—Ç—Ä–æ–π–∫–∏ AI"** ‚Äî –≤—ã–±–æ—Ä –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –∏ –º–æ–¥–µ–ª–∏
  2. **"–ö–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å API –∫–ª—é—á–∏"** ‚Äî –≥–∞–π–¥ –ø–æ –ø–æ–ª—É—á–µ–Ω–∏—é –∫–ª—é—á–µ–π
  3. **"API –∫–ª—é—á–∏ –±–æ—Ç–∞"** ‚Äî –ø–æ–ª—è –¥–ª—è –≤–≤–æ–¥–∞ –∫–ª—é—á–µ–π

### –î–ª—è —Å—É–ø–µ—Ä–∞–¥–º–∏–Ω–∞
- URL: `https://ai-ru.ru/sales/admin` (–∏–ª–∏ –ª—é–±–æ–π tenant —á–µ—Ä–µ–∑ –ø—Ä–æ—Å–º–æ—Ç—Ä)
- –í–∫–ª–∞–¥–∫–∞: **"AI"**
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∞—Ç–∞, —Ä–µ–¥–∞–∫—Ç–æ—Ä slug

## –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã

### 1. Yandex GPT
**–ö–∞—Ä—Ç–æ—á–∫–∞:** –°–∏–Ω—è—è  
**–ö–ª—é—á–∏:**
- `api_key` ‚Äî –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–æ–Ω–Ω—ã–π –∫–ª—é—á —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞
- `folder_id` ‚Äî –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∫–∞—Ç–∞–ª–æ–≥–∞ –≤ Yandex Cloud

**–ú–æ–¥–µ–ª–∏:**
- YandexGPT
- YandexGPT Lite

**–ü–æ–ª—É—á–∏—Ç—å:** https://yandex.cloud/ru/docs/iam/operations/api-key/create

---

### 2. OpenRouter
**–ö–∞—Ä—Ç–æ—á–∫–∞:** –§–∏–æ–ª–µ—Ç–æ–≤–∞—è  
**–ö–ª—é—á–∏:**
- `api_key` ‚Äî –∫–ª—é—á –¥–æ—Å—Ç—É–ø–∞ –∫ OpenRouter API

**–ú–æ–¥–µ–ª–∏:**
- **–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ:** Meta Llama 3.1 8B, Google Gemma 2 9B, Qwen 2.5 7B, Microsoft Phi-3 Medium, DeepSeek R1
- **–¢–æ–ø–æ–≤—ã–µ:** GPT-4o, GPT-4 Turbo, Claude 3.5 Sonnet, Claude 3 Opus, Gemini Pro 1.5
- **–î–µ—à–µ–≤—ã–µ:** GPT-3.5 Turbo, Claude 3 Haiku, Gemini Flash 1.5, Mixtral 8x7B, Llama 3.1 70B

**–ü–æ–ª—É—á–∏—Ç—å:** https://openrouter.ai/keys

---

### 3. ProxyAPI (–ù–û–í–´–ô)
**–ö–∞—Ä—Ç–æ—á–∫–∞:** –ó–µ–ª—ë–Ω–∞—è  
**–ö–ª—é—á–∏:**
- `api_key` ‚Äî –∫–ª—é—á –¥–æ—Å—Ç—É–ø–∞ –∫ ProxyAPI

**–ú–æ–¥–µ–ª–∏:**
- GPT-4o Mini
- O1 Mini / O1
- Claude 3 Haiku / Claude 3.5 Sonnet / Claude 3 Opus

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- üá∑üá∫ –†–∞–±–æ—Ç–∞–µ—Ç –∏–∑ –†–æ—Å—Å–∏–∏ –±–µ–∑ VPN
- üí≥ –û–ø–ª–∞—Ç–∞ –≤ —Ä—É–±–ª—è—Ö
- üöÄ –î–æ—Å—Ç—É–ø –∫ OpenAI –∏ Anthropic —á–µ—Ä–µ–∑ —Ä–æ—Å—Å–∏–π—Å–∫–∏–π –ø—Ä–æ–∫—Å–∏

**–ü–æ–ª—É—á–∏—Ç—å:** https://proxyapi.ru

---

## –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–∏—Å—Ç–µ–º–∞

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –≤ **"–ù–∞—Å—Ç—Ä–æ–π–∫–∏ AI"**
2. –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –∫–ª—é—á–µ–π –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞
3. –ï—Å–ª–∏ –∫–ª—é—á–µ–π –Ω–µ—Ç ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ —Å –∫–Ω–æ–ø–∫–æ–π **"–î–æ–±–∞–≤–∏—Ç—å –∫–ª—é—á–∏"**
4. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç –∫–ª—é—á–∏ –≤ **"API –∫–ª—é—á–∏ –±–æ—Ç–∞"**
5. –ö–ª—é—á–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ `tenant_api_keys` —Ç–∞–±–ª–∏—Ü—É
6. Backend —Ñ—É–Ω–∫—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –∫–ª—é—á–∏ –∏–∑ –ë–î –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –ö–ª—é—á–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –ë–î —Å –∏–Ω–¥–µ–∫—Å–æ–º –ø–æ `(tenant_id, provider, key_name)`
- –ö–∞–∂–¥—ã–π tenant –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ–∏ –∫–ª—é—á–∏
- –ö–ª—é—á–∏ –º–∞—Å–∫–∏—Ä—É—é—Ç—Å—è –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ: `AQVN‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢1234`
- –ü–æ–ª–µ –≤–≤–æ–¥–∞ ‚Äî `type="password"`

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è

### Frontend –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- `TenantApiKeysCard.tsx` ‚Äî —Ñ–æ—Ä–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–ª—é—á–∞–º–∏
- `ApiKeysGuideCard.tsx` ‚Äî –≥–∞–π–¥ –ø–æ –ø–æ–ª—É—á–µ–Ω–∏—é –∫–ª—é—á–µ–π
- `AiSettingsCard.tsx` ‚Äî –≤—ã–±–æ—Ä –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –∏ –º–æ–¥–µ–ª–∏

### Backend —Ñ—É–Ω–∫—Ü–∏—è
- `backend/manage-api-keys/index.py`
  - GET: –ø–æ–ª—É—á–∏—Ç—å –∫–ª—é—á–∏ tenant
  - POST: —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å/–æ–±–Ω–æ–≤–∏—Ç—å –∫–ª—é—á–∏

### –¢–∞–±–ª–∏—Ü–∞ –ë–î
```sql
t_p56134400_telegram_ai_bot_pdf.tenant_api_keys
‚îú‚îÄ‚îÄ tenant_id (int)
‚îú‚îÄ‚îÄ provider (text) -- 'yandex', 'openrouter', 'proxyapi'
‚îú‚îÄ‚îÄ key_name (text) -- 'api_key', 'folder_id'
‚îú‚îÄ‚îÄ key_value (text) -- –∑–Ω–∞—á–µ–Ω–∏–µ –∫–ª—é—á–∞
‚îú‚îÄ‚îÄ is_active (bool)
‚îî‚îÄ‚îÄ UNIQUE (tenant_id, provider, key_name)
```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–ª—é—á–µ–π:
1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–µ–±-—á–∞—Ç –∏–ª–∏ Telegram-–±–æ—Ç–∞
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ: `–ø—Ä–∏–≤–µ—Ç`
3. –ï—Å–ª–∏ –±–æ—Ç –æ—Ç–≤–µ—Ç–∏–ª ‚Äî ‚úÖ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç

–ï—Å–ª–∏ –æ—à–∏–±–∫–∞ **"API –∫–ª—é—á –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω"**:
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—ã–±—Ä–∞–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–ª—é—á–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã (–±–µ–∑ –æ—à–∏–±–æ–∫)
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∞–ª–∞–Ω—Å –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞
